{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-24T20:37:29.771Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 4,
    "implemented": 4,
    "items": [
      {
        "id": "REQ-89",
        "summary": "Update the PositionSizeCalculator component (frontend/src/components/PositionSizeCalculator.tsx) to fetch and use the live current price from the Binance Futures API (https://fapi.binance.com/fapi/v1/ticker/price?symbol=SYMBOL) for the selected asset when calculating position size. Display the live price next to the entry price field as a reference. Also fetch and display the leverage brackets/tiers for the selected symbol from https://fapi.binance.com/fapi/v1/leverageBracket?symbol=SYMBOL (public endpoint, no auth required) to show the maximum allowed leverage and the corresponding maintenance margin rate at the selected leverage level. Warn the user if their chosen leverage exceeds the maximum allowed for the selected symbol.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/services/binanceApi.ts",
          "frontend/src/types/binanceApi.ts",
          "frontend/src/components/PositionSizeCalculator.tsx"
        ],
        "matchedFiles": [
          "frontend/src/services/binanceApi.ts",
          "frontend/src/types/binanceApi.ts",
          "frontend/src/components/PositionSizeCalculator.tsx"
        ]
      },
      {
        "id": "REQ-90",
        "summary": "Update the PortfolioExposureDashboard component (frontend/src/components/PortfolioExposureDashboard.tsx) and its underlying usePortfolioExposure hook (frontend/src/hooks/usePortfolioExposure.ts) to enrich each position with its live current price fetched from the Binance Futures ticker API (https://fapi.binance.com/fapi/v1/ticker/price). Use the live prices to calculate real-time unrealized PnL per position, real current exposure (quantity × current price), and distance to liquidation price. Display these live-price-based metrics in the dashboard cards, clearly distinguishing between entry-price-based and current-price-based exposure values. Refresh live prices every 30 seconds.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/usePortfolioExposure.ts",
          "frontend/src/components/PortfolioExposureDashboard.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/usePortfolioExposure.ts",
          "frontend/src/components/PortfolioExposureDashboard.tsx"
        ]
      },
      {
        "id": "REQ-91",
        "summary": "Update the ScenarioSimulator component (frontend/src/components/ScenarioSimulator.tsx) and its underlying scenarioSimulator utility (frontend/src/utils/scenarioSimulator.ts) to use live current prices from the Binance Futures ticker API (https://fapi.binance.com/fapi/v1/ticker/price) as the baseline for all scenario calculations instead of entry prices. Additionally, fetch ATR-based volatility data via recent klines (https://fapi.binance.com/fapi/v1/klines) for each position's symbol to dynamically suggest realistic scenario percentages (e.g., '1-day ATR move', '3-day ATR move') as preset buttons alongside the existing presets. Display the current live price used as the simulation baseline for each position in the results panel.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/utils/scenarioSimulator.ts",
          "frontend/src/components/ScenarioSimulator.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/ScenarioSimulator.tsx"
        ]
      },
      {
        "id": "REQ-92",
        "summary": "Add a new 'Live Risk Metrics' summary card at the top of the Risk Management tab (frontend/src/components/RiskManagementTab.tsx) that displays real-time aggregate risk data fetched from Binance. For each active position, compute and display: (1) estimated liquidation price using the formula based on leverage, entry price, and maintenance margin rate fetched from https://fapi.binance.com/fapi/v1/leverageBracket; (2) distance to liquidation as a percentage from the current live price; (3) a color-coded liquidation risk badge — green if >20% away, amber if 10–20% away, red if <10% away. Show a portfolio-level summary row aggregating the number of positions at each risk level. Refresh all metrics every 30 seconds.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/LiveRiskMetricsCard.tsx",
          "frontend/src/components/RiskManagementTab.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/LiveRiskMetricsCard.tsx",
          "frontend/src/components/RiskManagementTab.tsx"
        ]
      }
    ]
  },
  "changedFiles": [
    "build-request.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/App.tsx",
    "frontend/src/components/LiveRiskMetricsCard.tsx",
    "frontend/src/components/PortfolioExposureDashboard.tsx",
    "frontend/src/components/PositionSizeCalculator.tsx",
    "frontend/src/components/RiskManagementTab.tsx",
    "frontend/src/components/ScenarioSimulator.tsx",
    "frontend/src/hooks/usePortfolioExposure.ts",
    "frontend/src/services/binanceApi.ts",
    "frontend/src/types/binanceApi.ts",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}