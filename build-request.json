{
  "kind": "build_request",
  "title": "Fix Position Size Calculator to show all Binance USD-M Futures perpetual pairs",
  "projectName": "Crypto Position Monitor",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-94",
      "text": "Update the asset selection input in the PositionSizeCalculator component (frontend/src/components/PositionSizeCalculator.tsx) to populate its dropdown/autocomplete with the full list of Binance USD-M Futures perpetual pairs fetched via the existing useBinancePairs hook (frontend/src/hooks/useBinancePairs.ts), which calls https://fapi.binance.com/fapi/v1/exchangeInfo and filters for contractType === 'PERPETUAL'. The selector must expose all perpetual pairs returned by that endpoint — not a hardcoded or pre-filtered subset. Display a loading state while pairs are being fetched and an error message if the fetch fails. The selected symbol must drive the live price fetch (https://fapi.binance.com/fapi/v1/ticker/price?symbol=SYMBOL) and leverage bracket fetch (https://fapi.binance.com/fapi/v1/leverageBracket?symbol=SYMBOL) already implemented in the component.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "A area position size simulator. Nao oferece acesso a todos os pares. Binance perpetual."
        ]
      },
      "acceptanceCriteria": [
        "The PositionSizeCalculator asset dropdown/autocomplete is populated with every perpetual pair returned by useBinancePairs (contractType === 'PERPETUAL' from https://fapi.binance.com/fapi/v1/exchangeInfo) — no hardcoded or partial list.",
        "Users can search and select any Binance USD-M Futures perpetual pair in the calculator.",
        "A loading indicator is shown in the selector while pairs are being fetched.",
        "An error message is shown if the Binance exchangeInfo endpoint fails to respond.",
        "After selecting a pair, the live price and leverage bracket data are fetched for that specific symbol as before.",
        "No regression in existing PositionSizeCalculator functionality (capital, risk %, stop-loss, leverage inputs and result display)."
      ]
    }
  ],
  "constraints": [
    "Do not modify frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, or any file under frontend/src/components/ui.",
    "Reuse the existing useBinancePairs hook — do not duplicate the pairs-fetching logic."
  ],
  "nonGoals": [
    "Adding new pairs sources beyond the Binance exchangeInfo endpoint.",
    "Changing the pair list used by any component other than PositionSizeCalculator.",
    "Modifying the backend."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}