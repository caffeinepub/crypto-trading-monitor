{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix Position Size Calculator to show all Binance USD-M Futures perpetual pairs",
  "requirements": [
    {
      "id": "REQ-94",
      "summary": "Update PositionSizeCalculator to populate its asset selector with all Binance USD-M Futures perpetual pairs from the useBinancePairs hook, replacing any hardcoded or filtered list, with loading and error states",
      "acceptanceCriteria": [
        "The PositionSizeCalculator asset dropdown/autocomplete is populated with every perpetual pair returned by useBinancePairs (contractType === 'PERPETUAL' from https://fapi.binance.com/fapi/v1/exchangeInfo) â€” no hardcoded or partial list.",
        "Users can search and select any Binance USD-M Futures perpetual pair in the calculator.",
        "A loading indicator is shown in the selector while pairs are being fetched.",
        "An error message is shown if the Binance exchangeInfo endpoint fails to respond.",
        "After selecting a pair, the live price and leverage bracket data are fetched for that specific symbol as before.",
        "No regression in existing PositionSizeCalculator functionality (capital, risk %, stop-loss, leverage inputs and result display)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/PositionSizeCalculator.tsx",
          "operation": "modify",
          "description": "Integrate the existing useBinancePairs hook to populate the asset selector with all perpetual pairs. Replace any hardcoded symbol list with the hook's data. Add a loading state UI (spinner or skeleton) while pairs.isLoading is true. Display an error message when pairs.error is present. Ensure the selected symbol drives the existing live price fetch and leverage bracket fetch. Preserve all existing calculator inputs (capital, risk %, entry/stop-loss prices, leverage) and result display logic without regression."
        }
      ]
    }
  ]
}